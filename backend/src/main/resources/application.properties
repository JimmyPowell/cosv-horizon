# 应用基础配置
spring.application.name=backend

# 数据库配置（已清空敏感值，按需填写）
spring.datasource.url=
spring.datasource.username=
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# MyBatis配置
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.type-aliases-package=tech.cspioneer.backend.entity
mybatis.mapper-locations=classpath:mapper/*.xml
# 枚举以名称（字符串）持久化，确保与各表status/role等VARCHAR字段一致
mybatis.configuration.default-enum-type-handler=org.apache.ibatis.type.EnumTypeHandler

# SQL日志配置
logging.level.tech.cspioneer.backend.mapper=info
logging.level.tech.cspioneer.backend.controller.OAuthController=info

# 服务器配置
server.port=8080

# Swagger配置
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# 安全与JWT配置（已清空敏感值，按需填写）
security.jwt.secret=
security.jwt.issuer=cosv-horizon
security.jwt.access-ttl=PT15M
security.jwt.refresh-ttl=P30D
security.jwt.token-prefix=Bearer 

# 密码哈希
security.password.bcrypt-strength=12

# 第三方登录（GitHub OAuth）配置占位（按需填写）
oauth.github.client-id=
oauth.github.client-secret=
oauth.github.redirect-uri=
oauth.frontend.finish-uri=

# Redis配置（非敏感，保留默认）
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.database=0

# 邮件配置（已清空敏感值，按需填写）
spring.mail.host=
spring.mail.port=
spring.mail.username=
spring.mail.password=
spring.mail.protocol=smtp
spring.mail.default-encoding=UTF-8
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.ssl.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.mime.charset=UTF-8
spring.mail.properties.mail.smtp.charset=UTF-8
spring.mail.properties.mail.mime.multipart.charset=UTF-8
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
mail.mock=false

# 验证码与限流配置
auth.code.ttl=PT10M
auth.session.ttl=PT15M
auth.rate.email.per-minute=5
auth.rate.email.per-day=50
auth.rate.ip.per-minute=10
auth.cooldown-seconds=60

# Flyway（仅启用，不强制执行，如无迁移脚本则跳过）
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

# Actuator 暴露健康检查
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true

# CORS 允许来源（逗号分隔，* 表示全部，生产请收敛）
cors.allowed-origins=*
cors.allowed-methods=GET,POST,PATCH,PUT,DELETE,OPTIONS
cors.allowed-headers=Authorization,Content-Type,X-API-Key

# ==== 搜索引擎配置（默认禁用 ES，使用 SQL）====
search.engine=es
search.es.enabled=false
search.es.uris=http://localhost:9200
search.es.index.prefix=cosv_vulnerabilities
search.es.index.version=v1
search.es.index.read-alias=cosv_vulnerabilities_read
search.es.index.write-alias=cosv_vulnerabilities_write
search.es.index.shards=1
search.es.index.replicas=0
search.es.autoBootstrap=true
search.es.bootstrapReindex=true
search.es.autoFallback=true
